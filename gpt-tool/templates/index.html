<!DOCTYPE html>
<html>
	<head>
		<title>Code Performance Analysis</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename='styles.css') }}"
		/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script>
			$(document).ready(function () {
				$("form").on("submit", function () {
					$("#loading").show();
				});
			});
		</script>
        <style>
            /* ... other styles ... */
            .loading-container {
                display: flex;
                justify-content: center;
                align-items: center;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 9999;
            }
        </style>
	</head>
	<body>
        <div id="loading" class="loading-container" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<h2 class="header">Put your code here</h2>
					<form method="POST">
						<textarea
							name="code"
							rows="20"
							class="form-control"
							required
						></textarea>
                        </br>
						<h4 class="header">CPU Architecture</h3>
						<input
							type="text"
							name="cpu_arch"
							class="form-control"
							placeholder="Optional"
						/>
                    </br>
                    <h4 class="header">GPU Architecture</h3>
						<input
							type="text"
							name="gpu_arch"
							class="form-control"
							placeholder="Optional"
						/>
                    </br>
                    <h4 class="header">Perf Results</h3>
						<input
							type="text"
							name="perf_results"
							class="form-control"
							placeholder="Optional"
						/>
						<br />
						<input
							type="submit"
							value="Analyze"
							class="btn btn-primary btn-block"
						/>
					</form>
				</div>
				<div class="col-md-6">
					<h2 class="header">Performance Analysis:</h2>
					{% if chat_response %}
                </br>
                <h4 class="header">Computational Expensive Operation</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Computational Expensive Operation"] }}</textarea
					>
                </br>
                <h4 class="header">Inefficient Data Structures</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Inefficient Data Structures"] }}</textarea
					>
                </br>
                <h4 class="header">Not Using Function Inlining</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Not Using Function Inlining"] }}</textarea
					>
                </br>
                <h4 class="header">Inefficient Concurrency Control</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Inefficient Concurrency Control"] }}</textarea
					>
                </br>
                <h4 class="header">Missing SIMD Parallelism</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Missing SIMD Parallelism"] }}</textarea
					>
                </br>
                <h4 class="header">Missing GPU Parallelism</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Missing GPU Parallelism"] }}</textarea
					>
                </br>
                <h4 class="header">Missing Task Parallelism</h3>
					<textarea rows="2" class="form-control" readonly>
{{ chat_response["Missing Task Parallelism"] }}</textarea
					>
					{% endif %}
				</div>
			</div>
		</div>
	</body>
</html>
